"use strict";module.exports = validate14;module.exports.default = validate14;const schema16 = {"$id":"https://github.com/data-fair/metrics/agg-query","x-exports":["types","validate"],"title":"agg query","type":"object","additionalProperties":false,"required":["start","end"],"properties":{"start":{"type":"string","format":"date"},"end":{"type":"string","format":"date"},"operationTrack":{"$ref":"https://github.com/data-fair/metrics/daily-api-metric#/definitions/operationTrack"},"statusClass":{"$ref":"https://github.com/data-fair/metrics/daily-api-metric#/definitions/statusClass"},"userClass":{"$ref":"https://github.com/data-fair/metrics/daily-api-metric#/definitions/userClass"},"split":{"type":"array","items":{"type":"string","enum":["day","refererApp","processing","resource"]}}}};const schema26 = {"type":"string","enum":["readDataFiles","readDataAPI","openApplication"]};const schema27 = {"type":"string","enum":["info","ok","redirect","clientError","serverError"]};const schema28 = {"type":"string","enum":["anonymous","owner","external","ownerAPIKey","externalAPIKey","ownerProcessing","externalProcessing"]};const formats0 = require("ajv-formats/dist/formats").fullFormats.date;function validate14(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){/*# sourceURL="https://github.com/data-fair/metrics/agg-query" */;let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.start === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "start"},message:"must have required property '"+"start"+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.end === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "end"},message:"must have required property '"+"end"+"'"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((((((key0 === "start") || (key0 === "end")) || (key0 === "operationTrack")) || (key0 === "statusClass")) || (key0 === "userClass")) || (key0 === "split"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.start !== undefined){let data0 = data.start;if(typeof data0 !== "string"){let dataType0 = typeof data0;let coerced0 = undefined;if(dataType0 == 'object' && Array.isArray(data0) && data0.length == 1){data0 = data0[0];dataType0 = typeof data0;if(typeof data0 === "string"){coerced0 = data0;}}if(!(coerced0 !== undefined)){if(dataType0 == "number" || dataType0 == "boolean"){coerced0 = "" + data0;}else if(data0 === null){coerced0 = "";}else {const err3 = {instancePath:instancePath+"/start",schemaPath:"#/properties/start/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(coerced0 !== undefined){data0 = coerced0;if(data !== undefined){data["start"] = coerced0;}}}if(typeof data0 === "string"){if(!(formats0.validate(data0))){const err4 = {instancePath:instancePath+"/start",schemaPath:"#/properties/start/format",keyword:"format",params:{format: "date"},message:"must match format \""+"date"+"\""};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}if(data.end !== undefined){let data1 = data.end;if(typeof data1 !== "string"){let dataType1 = typeof data1;let coerced1 = undefined;if(dataType1 == 'object' && Array.isArray(data1) && data1.length == 1){data1 = data1[0];dataType1 = typeof data1;if(typeof data1 === "string"){coerced1 = data1;}}if(!(coerced1 !== undefined)){if(dataType1 == "number" || dataType1 == "boolean"){coerced1 = "" + data1;}else if(data1 === null){coerced1 = "";}else {const err5 = {instancePath:instancePath+"/end",schemaPath:"#/properties/end/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(coerced1 !== undefined){data1 = coerced1;if(data !== undefined){data["end"] = coerced1;}}}if(typeof data1 === "string"){if(!(formats0.validate(data1))){const err6 = {instancePath:instancePath+"/end",schemaPath:"#/properties/end/format",keyword:"format",params:{format: "date"},message:"must match format \""+"date"+"\""};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}if(data.operationTrack !== undefined){let data2 = data.operationTrack;if(typeof data2 !== "string"){let dataType2 = typeof data2;let coerced2 = undefined;if(dataType2 == 'object' && Array.isArray(data2) && data2.length == 1){data2 = data2[0];dataType2 = typeof data2;if(typeof data2 === "string"){coerced2 = data2;}}if(!(coerced2 !== undefined)){if(dataType2 == "number" || dataType2 == "boolean"){coerced2 = "" + data2;}else if(data2 === null){coerced2 = "";}else {const err7 = {instancePath:instancePath+"/operationTrack",schemaPath:"https://github.com/data-fair/metrics/daily-api-metric#/definitions/operationTrack/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(coerced2 !== undefined){data2 = coerced2;if(data !== undefined){data["operationTrack"] = coerced2;}}}if(!(((data2 === "readDataFiles") || (data2 === "readDataAPI")) || (data2 === "openApplication"))){const err8 = {instancePath:instancePath+"/operationTrack",schemaPath:"https://github.com/data-fair/metrics/daily-api-metric#/definitions/operationTrack/enum",keyword:"enum",params:{allowedValues: schema26.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.statusClass !== undefined){let data3 = data.statusClass;if(typeof data3 !== "string"){let dataType3 = typeof data3;let coerced3 = undefined;if(dataType3 == 'object' && Array.isArray(data3) && data3.length == 1){data3 = data3[0];dataType3 = typeof data3;if(typeof data3 === "string"){coerced3 = data3;}}if(!(coerced3 !== undefined)){if(dataType3 == "number" || dataType3 == "boolean"){coerced3 = "" + data3;}else if(data3 === null){coerced3 = "";}else {const err9 = {instancePath:instancePath+"/statusClass",schemaPath:"https://github.com/data-fair/metrics/daily-api-metric#/definitions/statusClass/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(coerced3 !== undefined){data3 = coerced3;if(data !== undefined){data["statusClass"] = coerced3;}}}if(!(((((data3 === "info") || (data3 === "ok")) || (data3 === "redirect")) || (data3 === "clientError")) || (data3 === "serverError"))){const err10 = {instancePath:instancePath+"/statusClass",schemaPath:"https://github.com/data-fair/metrics/daily-api-metric#/definitions/statusClass/enum",keyword:"enum",params:{allowedValues: schema27.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.userClass !== undefined){let data4 = data.userClass;if(typeof data4 !== "string"){let dataType4 = typeof data4;let coerced4 = undefined;if(dataType4 == 'object' && Array.isArray(data4) && data4.length == 1){data4 = data4[0];dataType4 = typeof data4;if(typeof data4 === "string"){coerced4 = data4;}}if(!(coerced4 !== undefined)){if(dataType4 == "number" || dataType4 == "boolean"){coerced4 = "" + data4;}else if(data4 === null){coerced4 = "";}else {const err11 = {instancePath:instancePath+"/userClass",schemaPath:"https://github.com/data-fair/metrics/daily-api-metric#/definitions/userClass/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(coerced4 !== undefined){data4 = coerced4;if(data !== undefined){data["userClass"] = coerced4;}}}if(!(((((((data4 === "anonymous") || (data4 === "owner")) || (data4 === "external")) || (data4 === "ownerAPIKey")) || (data4 === "externalAPIKey")) || (data4 === "ownerProcessing")) || (data4 === "externalProcessing"))){const err12 = {instancePath:instancePath+"/userClass",schemaPath:"https://github.com/data-fair/metrics/daily-api-metric#/definitions/userClass/enum",keyword:"enum",params:{allowedValues: schema28.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.split !== undefined){let data5 = data.split;if(!(Array.isArray(data5))){let dataType5 = typeof data5;let coerced5 = undefined;if(dataType5 == 'object' && Array.isArray(data5) && data5.length == 1){data5 = data5[0];dataType5 = typeof data5;if(Array.isArray(data5)){coerced5 = data5;}}if(!(coerced5 !== undefined)){if(dataType5 === "string" || dataType5 === "number"
              || dataType5 === "boolean" || data5 === null){coerced5 = [data5];}else {const err13 = {instancePath:instancePath+"/split",schemaPath:"#/properties/split/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(coerced5 !== undefined){data5 = coerced5;if(data !== undefined){data["split"] = coerced5;}}}if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){let data6 = data5[i0];if(typeof data6 !== "string"){let dataType6 = typeof data6;let coerced6 = undefined;if(dataType6 == 'object' && Array.isArray(data6) && data6.length == 1){data6 = data6[0];dataType6 = typeof data6;if(typeof data6 === "string"){coerced6 = data6;}}if(!(coerced6 !== undefined)){if(dataType6 == "number" || dataType6 == "boolean"){coerced6 = "" + data6;}else if(data6 === null){coerced6 = "";}else {const err14 = {instancePath:instancePath+"/split/" + i0,schemaPath:"#/properties/split/items/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(coerced6 !== undefined){data6 = coerced6;if(data5 !== undefined){data5[i0] = coerced6;}}}if(!((((data6 === "day") || (data6 === "refererApp")) || (data6 === "processing")) || (data6 === "resource"))){const err15 = {instancePath:instancePath+"/split/" + i0,schemaPath:"#/properties/split/items/enum",keyword:"enum",params:{allowedValues: schema16.properties.split.items.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate14.errors = vErrors;return errors === 0;}